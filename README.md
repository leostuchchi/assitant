Overview

Проект "personal_assistant" представляет собой персонального ассистента на базе Telegram-бота, который формирует персонализированные рекомендации на основе астрологии (натальная карта), психоматрицы и биоритмов. Система интегрирует AI-модель (работающую через Ollama API) для генерации индивидуальных советов. Цель проекта — помочь пользователю в развитии и самореализации через анализ астрологических и психологических данных.
Структура проекта

    bot/ — Telegram-бот, содержащий обработчики взаимодействия с пользователем, состояния FSM, клавиатуры для ввода.

    backend/ — бизнес-логика, работа с базой данных, расчет астрологии, биоритмов, психоматрицы, генерация данных для AI.

    ollama/ — конфигурация и запуск сервиса Ollama AI для локального взаимодействия с моделью.

    docker-compose.yml — конфигурация Docker для запуска всех сервисов (PostgreSQL, PGAdmin, Ollama).

    init-scripts/ — скрипты инициализации базы данных PostgreSQL с таблицами и индексами.

Функциональность

    Сбор данных пользователя через Telegram: дата и время рождения, города рождения и текущего проживания, профессия, пол.

    Вычисление натальной карты, психоматрицы и биоритмов на определённую дату.

    Кэширование расчетов для ускорения отклика.

    Интеграция с AI-моделью Ollama для генерации обоснованных, персональных рекомендаций на основе всех данных.

    Управление состояниями пользователя для последовательного и корректного сбора данных.

    Выбор даты для получения рекомендаций: сегодня, завтра или произвольная дата.

Технические детали

    Backend написан на Python с использованием асинхронного программирования (asyncio, async SQLAlchemy).

    AI интеграция через HTTP API к Ollama, настроенному в Docker-контейнере.

    База данных PostgreSQL с таблицами пользователей, натальных карт, биоритмов, психоматриц, AI-рекомендаций.

    Управление состояниями и транспортом данных реализованы через aiogram (Telegram Bot API).

    Ключевые модули:

        assistant.py — сбор и обработка пользовательских данных, общение между модулями.

        biorhythm_calculator.py — расчет биоритмов с рекомендациями.

        prediction_services.py — подготовка данных и интерфейс к AI-модели.

        ai_engine.py — API-клиент Ollama.

        handlers.py — логика взаимодействия с пользователем.

    Логирование ошибок и операций реализовано через стандартный logging.

Установка и запуск

    Клонировать репозиторий.

    Установить зависимости из requirements.txt.

    Запустить Docker-контейнеры командой docker-compose up -d (сервис базы данных, Ollama AI и пр.).

    Настроить переменные окружения для Telegram-бота (TELEGRAM_BOT_TOKEN).

    Запустить бота командой python bot/main.py.

    Начать работу с ботом через Telegram.

Рекомендации по дальнейшему развитию

    Добавить автоматические тесты и мониторинг состояния сервисов.

    Внедрить TTL для кэша и автоматическое обновление данных.

    Улучшить обработку ошибок и пользовательский интерфейс.

    Расширить интеграцию с иными внешними источниками и сервисами.

    Оптимизировать асинхронные вызовы и работу с базой для повышения производительности.




